<!DOCTYPE html>
<html>
<head>
	<!-- Metadata -->
	<title>Collection of API</title>
	<link rel="shortcut icon" type="image/png" href="favicon.png"/>
	<meta http-equiv="Content-Type" content="text/html" charset="UTF-8"/>

	<!-- Page style -->
	<style>
	body {
	/* Background */
	background-color: #000000;
	background: url(background.png) repeat;
	background-size: 100%;

	/* Misc */
	text-align: center;
	margin: 0;
	padding: 0;
	}

	* {
	/* Disable long-tap context menu */
	-webkit-touch-callout: none;
	-webkit-user-select: none;
	-khtml-user-select: none;
	-moz-user-select: none;
	-ms-user-select: none;
	user-select: none;
	touch-action: manipulation;
	}
	</style>

	<!-- Fullscreen on iOS devices -->
	<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=0, width=device-width">
	<meta name="mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
	<meta name="HandheldFriendly" content="true">

	<!-- Disable context menu -->
	<script>
	document.addEventListener('contextmenu', event => event.preventDefault());
	</script>

	<!-- Workaround for disable double click zoom on iOS -->
	<script>
	document.addEventListener('touchend', function (event) {
	event.preventDefault();
	$(event.target).trigger('click');
	}, false);
	</script>

	<!-- Disable arrows keys for scrolling -->
	<script>
	document.addEventListener('keydown', function(event) {
	switch(event.key) {
	case 'ArrowUp':
	case 'ArrowDown':
	case 'ArrowLeft':
	case 'ArrowRight':
	event.preventDefault();
	break;
	default:
	// Do nothing for other keys
	break;}
	});
	</script>

	<!--  –í–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π –¥–ª—è —Ä–∞–Ω—Ç–∞–π–º–∞ –∏–≥—Ä—ã -->
	<script>
	var info_int=0;
	var info_event=null;
	var info_data=null;
	<!-- function GetInt(){console.log(info_int);return info_int}; // –ü–æ–ª—É—á–∏—Ç—å —Ü–µ–ª–æ–µ -->
	<!-- function GetEvent(){console.log(info_event);return info_event}; // –ü–æ–ª—É—á–∏—Ç—å —Å—Ç—Ä–æ–∫—É -->
	<!-- function GetData(){console.log(info_data);return info_data}; // –ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ -->
	function GetInt(){return info_int}; // –ü–æ–ª—É—á–∏—Ç—å —Ü–µ–ª–æ–µ
	function GetEvent(){return info_event}; // –ü–æ–ª—É—á–∏—Ç—å —Å—Ç—Ä–æ–∫—É
	function GetData(){return info_data}; // –ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
	
	function ResetInfo(){ // –°–±—Ä–æ—Å
	info_int=0;
	info_event=null;
	// info_data=null;
	};
	</script>

	<!-- Yandex Games SDK -->

	<script src=sdk.js></script>
	<script src=YandexGamesSDK.js></script>
		
	<!-- VK Bridge SDK -->
	<script src="https://unpkg.com/@vkontakte/vk-bridge/dist/browser.min.js"></script>
	<!-- <script src="VKBridgeSDK.js"></script> -->
	
	<script>
	// –†–∞–±–æ—Ç–∞ —Å VK Bridge SDK –≤ —Å—Ç–∞—Ä—ã—Ö –∏–≥—Ä–∞—Ö GKProduction v1.0
	"use strict";

	// ================ –ù–∞—á–∞–ª–æ ================
	// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è SDK
	function VKGInit() {
	    bridge.send('VKWebAppInit')
	    .then((data) => {
	        if (data.result) {
	            // –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ
	            console.log('üü¶Init complete');
	            info_event = "VKG: Init complete";
	        } else {
	            // –û—à–∏–±–∫–∞
	            console.log('üü¶Init error (no data result)');
	            info_event = "VKG: Init error";
	        }
	    })
	    .catch((error) => {
	        // –û—à–∏–±–∫–∞
	        console.log('üü¶Init error ', error);
	        info_event = "VKG: Init error";
	    });
	}

	// ================ –†–µ–∫–ª–∞–º–∞ ================
	// –ü–æ–∫–∞–∑–∞—Ç—å –±–∞–Ω–Ω–µ—Ä
	function VKGShowBannerAd() {
	    bridge.send('VKWebAppShowBannerAd', {
	        banner_location: 'top'
	    })
	    .then((data) => {
	        if (data.result) {
	            // –ë–∞–Ω–Ω–µ—Ä–Ω–∞—è —Ä–µ–∫–ª–∞–º–∞ –æ—Ç–æ–±—Ä–∞–∑–∏–ª–∞—Å—å
	            console.log('üü¶Banner is shown');
	            info_event = "VKG: Banner is shown";
	        }
	    })
	    .catch((error) => {
	        // –û—à–∏–±–∫–∞
	        console.log('üü¶VKG: Show banner error: ', error);
	        info_event = "VKG: Show banner error";
	    });
	}

	// –°–∫—Ä—ã—Ç—å –±–∞–Ω–Ω–µ—Ä
	function VKGHideBannerAd() {
	    bridge.send('VKWebAppHideBannerAd')
	    .then((data) => {
	        if (data.result) {
	            // –ë–∞–Ω–Ω–µ—Ä–Ω–∞—è —Ä–µ–∫–ª–∞–º–∞ —Å–∫—Ä—ã—Ç–∞
	            console.log('üü¶Banner is hidden');
	            info_event = "VKG: Banner is hidden";
	        }
	    })
	    .catch((error) => {
	        // –û—à–∏–±–∫–∞
	        console.log('üü¶VKG: Hide banner error: ', error);
	        info_event = "VKG: Hide banner error";
	    });
	}

	// –ó–∞–≥—Ä—É–∑–∏—Ç—å –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—É—é —Ä–µ–∫–ª–∞–º—É
	function VKGLoadNativeAd(type) {
	    // type="interstitial" (–ú–µ–∂—Å—Ç—Ä–∞–Ω–∏—á–Ω–∞—è)
	    // type="reward" (–í–∏–¥–µ–æ)
	    bridge.send('VKWebAppCheckNativeAds', {
	        ad_format: type /* –¢–∏–ø —Ä–µ–∫–ª–∞–º—ã */
	    })
	    .then((data) => {
	        if (data.result) {
	            // –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –µ—Å—Ç—å
	            console.log('üü¶', type, ' ad is loaded');
	            if (type === ('interstitial')) {
	                info_event = "VKG: Fullscreen Ad is loaded";
	            }
	            if (type === ('reward')) {
	                info_event = "VKG: Video Ad is loaded";
	            }
	        } else {
	            // –ú–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –Ω–µ—Ç
	            console.log('üü¶VKG: No ads');
	            info_event = "VKG: No ads";
	        }
	    })
	    .catch((error) => {
	        // –û—à–∏–±–∫–∞
	        console.log('üü¶VKG: Load ', type, ' ad error: ', error);
	        if (type === ('interstitial')) {
	            info_event = "VKG: Fullscreen Ad is not loaded";
	        }
	        if (type === ('reward')) {
	            info_event = "VKG: Video Ad is not loaded";
	        }
	    });
	}

	// –ü–æ–∫–∞–∑–∞—Ç—å –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—É—é —Ä–µ–∫–ª–∞–º—É
	function VKGShowNativeAd(type) {
	    // type="interstitial" (–ú–µ–∂—Å—Ç—Ä–∞–Ω–∏—á–Ω–∞—è)
	    // type="reward" (–í–∏–¥–µ–æ)
	    bridge.send('VKWebAppShowNativeAds', {
	        ad_format: type /* –¢–∏–ø —Ä–µ–∫–ª–∞–º—ã */
	    })
	    .then((data) => {
	        if (data.result) {
	            // –†–µ–∫–ª–∞–º–∞ –±—ã–ª–∞ –ø–æ–∫–∞–∑–∞–Ω–∞
	            console.log('üü¶', type, ' ad is showing');
	            if (type === ('interstitial')) {
	                info_event = "VKG: Fullscreen Ad is showing";
	            }
	            if (type === ('reward')) {
	                info_event = "VKG: Video Ad is showing";
	            }
	        } else {
	            // –û—à–∏–±–∫–∞
	            console.log('üü¶VKG: Show ', type, ' ad error: ', error);
	            if (type === ('interstitial')) {
	                info_event = "VKG: Fullscreen Ad is not showing";
	            }
	            if (type === ('reward')) {
	                info_event = "VKG: Video Ad is not showing";
	            }
	        }
	    })
	    .catch((error) => {
	        // –û—à–∏–±–∫–∞
	        console.log('üü¶VKG: Show ', type, ' ad error: ', error);
	        if (type === ('interstitial')) {
	            info_event = "VKG: Fullscreen Ad is not showing";
	        }
	        if (type === ('reward')) {
	            info_event = "VKG: Video Ad is not showing";
	        }
	    });
	}
	</script>
	
	<!-- Newgrounds API -->
	<script src=NewgroundsAPI.js></script>
	<script src=NewgroundsSDK.js></script>

	<!-- If canvas not supported by browser -->
	<script>
	// Detection of old browsers that do not support the canvas element
	// Falls back to a default page
	if (!document.createElement("canvas").getContext)
	{window.open("http://www.clickteam.com/html5-fallback", "_self");}
	</script>

	<!-- Loads the game runtime -->
	<script src="data/Runtime.js"></script>
</head>

<body>
	<!-- Canvas -->
	<div style="display: inline-block; text-align: center">
	<!-- Your browser does not support Canvas -->
	<canvas id="game">
	Your browser does not support Canvas.
	</canvas>
	</div>

	<!-- Run the game -->
	<script>
	// RUNTIMESTART
	// This is where the HTML5 runtime is actually started
	window.addEventListener("load", windowLoaded, false);
	function windowLoaded()
	{
	// Calls the runtime
	// First parameter : name of the canvas element
	// Second parameter : path to the cch file. Images and sounds must lay beside this file
	new Runtime("game", "data/Collection of API.cch");
	}
	// RUNTIMESTARTEND
	</script>
</body>
</html>